angular.module("App",["ngRoute","ngAnimate","ui.bootstrap"]),angular.module("App").config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"/views/login.html",controller:"LoginController",controllerAs:"login"}).when("/home",{templateUrl:"/views/home.html",controller:"HomeController",controllerAs:"home"}).when("/edit",{templateUrl:"/views/edit.html",controller:"EditController",controllerAs:"edit"}).when("/settings",{templateUrl:"/views/settings.html",controller:"SettingsController",controllerAs:"settings"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),angular.module("App").controller("MainController",["$http","$location","DataService",function(a,b,c){var d=this;d.message="CTI Thank You Email System",d.sendMail=function(){EmailService.sendMail()}}]),angular.module("App").factory("DataService",["$http",function(a){function b(){a.get("/salesforce/data").then(c,d)}function c(a){console.log(a)}function d(a){console.log("fail",a)}function e(){for(var a=0;a<f.donors.length;a++)f.donors[a].convertedDate=new Date(f.donors[a].donationDate)}var f={donors:[{firstName:"Jimmy",lastName:"Jam",email:"jimmyj@gmail.com",donationAmount:5e3,donationDate:"8/6/2017",street:"Detroit Ave",city:"Detroit",state:"Michigan",zip:87657},{firstName:"Michael",lastName:"Jackson",email:"immichael@hotmail.com",donationAmount:6e4,donationDate:"5/23/2017",street:"Neverland Way",city:"Los Angeles",state:"California",zip:90280},{firstName:"Phil",lastName:"Mickelson",email:"lefty@yahoo.com",donationAmount:9e3,donationDate:"7/6/2017",street:"Orlando Way",city:"Orlando",state:"Florida",zip:34089},{firstName:"Michael",lastName:"Jordan",email:"hisairness@gmail.com",donationAmount:5e4,donationDate:"5/20/2014",street:"Dunk St.",city:"Chicago",state:"IL",zip:55612},{firstName:"Michael",lastName:"Phelps",email:"phelpswim@gmail.com",donationAmount:4e4,donationDate:"6/05/2016",street:"Swim St.",city:"Los Angeles",state:"CA",zip:90212},{firstName:"Steve",lastName:"Jobs",email:"applefan@apple.com",donationAmount:1e5,donationDate:"12/25/2012",street:"Apple Ave.",city:"Silicon Valley",state:"CA",zip:90543},{firstName:"John",lastName:"Wayne",email:"olejonny@gmail.com",donationAmount:19,donationDate:"1/30/1981",street:"Old West St.",city:"Old West Town",state:"MT",zip:65652}]};return e(),{getData:b,donorObject:f}}]),angular.module("App").controller("LoginController",["$http","$location","RouteService","DataService",function(a,b,c,d){function e(a){console.log("Success",a),b.path("/home")}function f(a){console.log("Failure",a),b.path("/"),g.error=!0}var g=this;g.homeRoute=function(){c.homeRoute()},g.editRoute=function(){c.editRoute()},g.settingsRoute=function(){c.settingsRoute()},g.username="",g.password="",g.error=!1,g.errorMessage="Sorry, Wrong Username/Password",g.login=function(){console.log("Username",g.username),console.log("Password",g.password);var b={};b.username=g.username,b.password=g.password,a.post("/login",b).then(e,f)}}]),angular.module("App").controller("HomeController",["$http","$location","DataService","RouteService","orderByFilter",function(a,b,c,d,e){c.getData();var f=this;f.donorList=c.donorObject.donors,f.homeRoute=function(){d.homeRoute()},f.editRoute=function(){d.editRoute()},f.settingsRoute=function(){d.settingsRoute()},f.propertyName="donationAmount",f.reverse=!0,f.donors=f.donorList,f.sortBy=function(a){console.log("donorList:",f.donors),console.log("sortBy propertyName:",a),f.reverse=f.propertyName===a&&!f.reverse,f.propertyName=a}}]),angular.module("App").controller("EditController",["$http","$location","$uibModal","DataService","TemplateService","EmailService",function(a,b,c,d,e,f){var g=this;g.templatesObject=e.templatesObject,g.editObject={},g.templates=[{name:"template_1.html",url:"emails/template1EditView.html"},{name:"template2.html",url:"emails/customTemplate1.html"}],g.template=g.templates[0],g.editModal=function(){},g.animationsEnabled=!0,g.items=["item1","item2","item3"],g.editModal=function(){console.log("Clickety Click");c.open({animation:g.animationsEnabled,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"emails/p1.html",controller:"EditController",controllerAs:"edit",size:"md",resolve:{items:function(){return g.items}}})},g.sendMail=function(a,b,c){console.log("You cliked me"),f.sendMail(a,b,c)}}]),angular.module("App").controller("SettingsController",["$http","$location","DataService",function(a,b,c){}]),angular.module("App").factory("RouteService",["$location",function(a){function b(){a.path("/")}function c(){a.path("/home")}function d(){a.path("/edit")}function e(){a.path("/settings")}return{loginRoute:b,homeRoute:c,editRoute:d,settingsRoute:e}}]),angular.module("App").factory("EmailService",["$http","$location",function(a,b){function c(c,d,e){var f={};f.p1=c,f.p2=e,f.q=d,console.log("sendData = ",f),a.post("/email/sendMail",f).then(function(a){console.log("Button Pressed"),console.log("send email",a)}),b.path("/")}return{sendMail:c}}]),angular.module("App").factory("TemplateService",["$location",function(a){var b={template1:{p1:"Thank you for believing in a world without hunger and poverty. And not just believing in such a world, but making it possible. Because of your generosity, communities around the world are gaining safe water and putting more food on the table. It's clear that you see the value in helping people help themselves. But I want you to know what a profound impact your gift can have on someone's life. Read what Aissatou Ly, Senegalese farmer and business owner, told us:",p2:"Your gift helps women like Aissatou start businesses, earn an income, and send their kids to school-or go themselves. You make success stories like Aissatou's possible. And I can't thank you enough.",quote:"Six months ago I bought a CTI grinder. I provide grinding services to other women and grind about 10 kg of peanut butter a day and sell it at the weekly market. I'm proud, as a woman, to be a leader and have respect in my community. I'm proud that I don't need to ask for help."},template2:{},template3:{}};return{templatesObject:b}}]);